(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[347],{60985:function(t,e,n){Promise.resolve().then(n.bind(n,92471))},42306:function(t,e,n){"use strict";n.d(e,{$3:function(){return d},A2:function(){return f},BN:function(){return c},Bx:function(){return h},CX:function(){return w},D1:function(){return k},DK:function(){return j},NY:function(){return i},TN:function(){return g},UP:function(){return s},Xm:function(){return x},ZX:function(){return v},ip:function(){return r},iq:function(){return b},qT:function(){return m},r5:function(){return p},sm:function(){return u},ue:function(){return y},wx:function(){return l}});let r="localhost";async function a(t){r=t}async function o(){console.log("Getting version");let t=await fetch("http://"+r+":37520/");return await t.json()}async function i(){return!!await o().catch(()=>(a("ets2la.local"),o().then(t=>!!t).catch(()=>!1))).catch(()=>!1)}async function s(){console.log("Checking for update");let t=await fetch("http://"+r+":37520/backend/updates");return await t.json()}async function c(){console.log("Updating");let t=await fetch("http://"+r+":37520/backend/update");await t.json()}async function u(){console.log("Closing backend");let t=await fetch("http://"+r+":37520/backend/quit");await t.json()}async function l(){console.log("Minimizing backend");let t=await fetch("http://"+r+":37520/window/minimize");await t.json()}async function d(){let t=await fetch("http://"+r+":37520/backend/plugins");return await t.json()}async function f(){let t=await fetch("http://"+r+":37520/backend/statistics");return await t.json()}async function h(){let t=await fetch("http://"+r+":37520/backend/plugins/states");return await t.json()}async function p(t){console.log("Disabling plugin");let e=await fetch("http://"+r+":37520/backend/plugins/".concat(t,"/disable"));await e.json()}async function g(t){console.log("Enabling plugin");let e=await fetch("http://"+r+":37520/backend/plugins/".concat(t,"/enable"));await e.json()}async function v(){let t=await fetch("http://".concat(r,":37520/api/metadata"));return await t.json()}async function b(t,e,n,a){console.log(e);let o=await fetch("http://".concat(r,":37520/backend/plugins/").concat(t,"/function/call"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({target:e,args:n,kwargs:a})});return await o.json()}async function x(){let t=!(arguments.length>0)||void 0===arguments[0]||arguments[0],e=await fetch("http://".concat(r,":37520/window/stay_on_top/").concat(t),{method:"GET",headers:{"Content-Type":"application/json"}});return await e.json()}async function y(){let t=!(arguments.length>0)||void 0===arguments[0]||arguments[0],e=await fetch("http://".concat(r,":37520/window/transparency/").concat(t),{method:"GET",headers:{"Content-Type":"application/json"}});return await e.json()}async function w(){let t=await fetch("http://".concat(r,":37520/api/language"),{method:"GET",headers:{"Content-Type":"application/json"}});return await t.json()}async function m(t){let e=await fetch("http://".concat(r,":37520/api/page"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({page:t})});return await e.json()}async function j(){let t=await fetch("http://".concat(r,":37520/backend/devmode"),{method:"GET",headers:{"Content-Type":"application/json"}});return await t.json()}async function k(){let t=await fetch("http://".concat(r,":37520/api/plugins/reload"),{method:"GET",headers:{"Content-Type":"application/json"}});return await t.json()}},39824:function(t,e,n){"use strict";n.d(e,{Or:function(){return o},Yw:function(){return a},oB:function(){return s},on:function(){return c},wX:function(){return i}});var r=n(42306);async function a(t){let e=await fetch("http://".concat(r.ip,":37520/backend/plugins/").concat(t,"/settings"));return await e.json()}async function o(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{let a=await fetch("http://".concat(r.ip,":37520/backend/plugins/").concat(t,"/settings/").concat(e));if(!a.ok)return console.error("Failed to fetch: HTTP status ".concat(a.status)),n;try{let t=await a.json();if(null===t)return n;return t}catch(t){return console.error("Failed to parse JSON response:",t),n}}catch(t){return console.error("An error occurred while getting the setting by key:",t),n}}async function i(t,e,n){try{let a=await fetch("http://".concat(r.ip,":37520/backend/plugins/").concat(t,"/settings/").concat(e,"/set"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({value:n})});if(!a.ok)throw Error("HTTP error! status: ".concat(a.status));return await a.json()}catch(t){console.error("An error occurred while setting the setting by key:",t)}}async function s(t){try{let e=await fetch("http://".concat(r.ip,":37520/api/controls/").concat(t,"/change"),{method:"POST",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));return await e.json()}catch(t){console.error("An error occurred while triggering the keybind change:",t)}}async function c(t){try{let e=await fetch("http://".concat(r.ip,":37520/api/controls/").concat(t,"/unbind"),{method:"POST",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));return await e.json()}catch(t){console.error("An error occurred while unbinding the keybind:",t)}}},92471:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return h}});var r=n(57437);n(2265);var a=n(94508);function o(t){let{className:e,...n}=t;return(0,r.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...n})}var i=n(93772),s=n(63861),c=n(39824),u=n(62869),l=n(99376),d=n(35974),f=n(42306);function h(){let{push:t}=(0,l.useRouter)(),{data:e,error:n,isLoading:a}=(0,s.ZP)("controls",()=>(0,c.Yw)("ETS2LA%5Ccontrols.json"));if(a)return(0,r.jsx)(o,{className:"flex flex-col content-center text-center pt-10 space-y-5 pb-0 h-[calc(100vh-72px)] overflow-auto",children:(0,r.jsx)("p",{className:"font-semibold text-xs text-stone-400",children:"Loading..."})});if(n)return i.Am.error("Error fetching settings from "+f.ip,{description:n.message}),(0,r.jsx)(o,{className:"flex flex-col content-center text-center pt-10 space-y-5 pb-0 h-[calc(100vh-72px)] overflow-auto",children:(0,r.jsx)("p",{className:"absolute left-5 font-semibold text-xs text-stone-400",children:n.message})});console.log(e);let h=[];for(let t in e)h.push(t);let p=t=>void 0==t?"Unbound":t.length>16?t.slice(0,16)+"...":t,g=t=>void 0==t?"Unbound":t.length<=2?t:(t=t.replace("_"," ")).charAt(0).toUpperCase()+t.slice(1);return(0,r.jsx)("div",{className:"flex space-x-3 max-w-[calc(60vw-64px)] font-geist",children:(0,r.jsxs)("div",{className:"flex flex-col gap-4 h-full overflow-auto auto-rows-min w-full text-left",children:[h.map(t=>(0,r.jsxs)("div",{id:t,className:"flex w-full h-full justify-between border rounded-md p-4 text-left items-start",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-2 w-full self-center",children:[(0,r.jsx)("p",{className:"font-semibold text-sm",children:e[t].name}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:""==e[t].description&&"No description provided"||e[t].description})]}),(0,r.jsx)("div",{className:"self-start items-end w-96 pl-4 pr-2",children:(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(d.C,{className:"rounded w-16",children:"Device"}),(0,r.jsx)(d.C,{className:"rounded",variant:"secondary",children:""==e[t].device&&"Unbound"||p(e[t].device)})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(d.C,{className:"rounded w-16",children:"Keyboard"==e[t].device&&"Key"||"button"==e[t].type&&"Button"||"Axis"}),(0,r.jsx)(d.C,{className:"rounded",variant:"secondary",children:""==e[t].key&&"Unbound"||g(e[t].key)})]})]})}),(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsx)(u.z,{className:"text-xs font-semibold h-[22px] rounded-sm",onClick:()=>{i.Am.promise((0,c.oB)(t),{loading:"Changing keybind...",success:"Keybind changed successfully!",error:"Failed to change keybind.",description:"button"==e[t].type&&"Please press the key you want to bind this event to."||"Please move the axis you want to bind this event to.",duration:1e3,onAutoClose:()=>(0,s.JG)("controls"),onDismiss:()=>(0,s.JG)("controls")})},children:"Change"}),(0,r.jsx)(u.z,{className:"text-xs font-semibold h-[22px] rounded-sm",variant:"secondary",onClick:()=>{i.Am.promise((0,c.on)(t),{loading:"Unbinding keybind...",success:"Keybind unbound successfully!",error:"Failed to unbind keybind.",duration:1e3,onAutoClose:()=>(0,s.JG)("controls"),onDismiss:()=>(0,s.JG)("controls")})},children:"Unbind"})]})]},t)),(0,r.jsx)("div",{className:"h-20"})]})})}},35974:function(t,e,n){"use strict";n.d(e,{C:function(){return c}});var r=n(57437);n(2265);var a=n(37053),o=n(90535),i=n(94508);let s=(0,o.j)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/70",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function c(t){let{className:e,variant:n,asChild:o=!1,...c}=t,u=o?a.g7:"span";return(0,r.jsx)(u,{"data-slot":"badge",className:(0,i.cn)(s({variant:n}),e),...c})}},62869:function(t,e,n){"use strict";n.d(e,{z:function(){return c}});var r=n(57437);n(2265);var a=n(37053),o=n(90535),i=n(94508);let s=(0,o.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-input/10 shadow-xs hover:bg-accent hover:text-accent-foreground dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function c(t){let{className:e,variant:n,size:o,asChild:c=!1,...u}=t,l=c?a.g7:"button";return(0,r.jsx)(l,{"data-slot":"button",className:(0,i.cn)(s({variant:n,size:o,className:e})),...u})}},94508:function(t,e,n){"use strict";n.d(e,{cn:function(){return o}});var r=n(61994),a=n(53335);function o(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return(0,a.m6)((0,r.W)(e))}},99376:function(t,e,n){"use strict";var r=n(35475);n.o(r,"usePathname")&&n.d(e,{usePathname:function(){return r.usePathname}}),n.o(r,"useRouter")&&n.d(e,{useRouter:function(){return r.useRouter}})}},function(t){t.O(0,[317,861,644,971,117,744],function(){return t(t.s=60985)}),_N_E=t.O()}]);